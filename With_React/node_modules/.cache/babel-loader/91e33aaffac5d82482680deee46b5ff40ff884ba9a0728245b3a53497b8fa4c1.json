{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nuseEffect(() => {\n  (async () => {\n    try {\n      const {\n        dataLogin\n      } = await axios.post('http://localhost:8000/logout/', {\n        refresh_token: localStorage.getItem('refresh_token')\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }, {\n        withCredentials: true\n      });\n      localStorage.clear();\n      axios.defaults.headers.common['Authorization'] = null;\n      window.location.href = '/login';\n    } catch (e) {\n      console.log('logout not working', e);\n    }\n  })();\n}, []);","map":{"version":3,"names":["useEffect","useState","axios","dataLogin","post","refresh_token","localStorage","getItem","headers","withCredentials","clear","defaults","common","window","location","href","e","console","log"],"sources":["/Users/luan/Downloads/YesPlaces/With_React/src/logout.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nuseEffect(() => {\n    (async () => {\n      try {\n        const {dataLogin} = await  \n              axios.post('http://localhost:8000/logout/',{\n              refresh_token:localStorage.getItem('refresh_token')\n              } ,{headers: {'Content-Type': 'application/json'}},  \n              {withCredentials: true});\n        localStorage.clear();\n        axios.defaults.headers.common['Authorization'] = null;\n        window.location.href = '/login'\n        } catch (e) {\n          console.log('logout not working', e)\n        }\n      })();\n }, []);"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzBF,SAAS,CAAC,MAAM;EACZ,CAAC,YAAY;IACX,IAAI;MACF,MAAM;QAACG;MAAS,CAAC,GAAG,MACdD,KAAK,CAACE,IAAI,CAAC,+BAA+B,EAAC;QAC3CC,aAAa,EAACC,YAAY,CAACC,OAAO,CAAC,eAAe;MAClD,CAAC,EAAE;QAACC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB;MAAC,CAAC,EAClD;QAACC,eAAe,EAAE;MAAI,CAAC,CAAC;MAC9BH,YAAY,CAACI,KAAK,CAAC,CAAC;MACpBR,KAAK,CAACS,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI;MACrDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IAC/B,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,CAAC,CAAC;IACtC;EACF,CAAC,EAAE,CAAC;AACT,CAAC,EAAE,EAAE,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}